<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.views">
      <view
            class="org.yamcs.studio.editor.base.views.FunctionsView"
            icon="icons/eview16/formula-viewer-16.png"
            id="org.yamcs.studio.editor.base.views.FunctionsView"
            name="Function Reference">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <separator
               name="css"
               visible="true">
         </separator>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=css">
         <menu
               icon="platform:/plugin/org.csstudio.ui.util/icons/processVariable.png"
               id="org.csstudio.ui.menu.popup.processvariable"
               label="Process Variable">
            <visibleWhen>
               <or>
                  <with variable="activeMenuSelection">
                     <iterate>
                        <adapt type="org.csstudio.csdata.ProcessVariable"/>
                     </iterate>
                     <and>
                        <count value="+"/>
                     </and>
                  </with>
                  <with
                        variable="activeMenuSelection">
                     <iterate>
                        <adapt
                              type="[Lorg.csstudio.csdata.ProcessVariable;">
                        </adapt>
                     </iterate>
                     <and>
                        <count value="+"/>
                     </and>
                  </with>
               </or>
            </visibleWhen>
            <separator
                  name="main">
            </separator>
         </menu>
      </menuContribution>
   </extension>
</plugin>
